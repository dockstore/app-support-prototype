# .dockstore.yml for Xena
# https://github.com/Ldcabansay/xenahub
version: 1.1
service:
  subclass: docker-compose
  name: UCSC Xena Browser
  author: Anonymous
  description: |
    The UCSC Xena browser is an exploration tool for public and private,
    multi-omic and clinical/phenotype data.
  files:
     - docker-compose.yml 
         primary: true # Whether this is the primary descriptor, not always applicable
  prebuilt: false # Whether this service has containers that need building. OTOH, this duplicates information in the docker-compose.yml, so maybe it shouldn't be here.
  samples:
    - clinical:
        description: |
          Treehouse Public Expression Dataset v9 (March 2019).
          Treehouse RNASeq gene expression data.
          Values in this dataset use HUGO gene names and are transformed by log2(x +1) of the TPM value.
          This data was generated by the ribodepletion library preparation method.
        target:
          directory: xena/files
          source:
            - https://xena.treehouse.gi.ucsc.edu/download/TreehousePEDv9_Ribodeplete_clinical_metadata.2019-03-25.tsv
            - https://xena.treehouse.gi.ucsc.edu/download/TreehousePEDv9_Ribodeplete_unique_hugo_log2_tpm_plus_1.2019-03-25.tsv.json
          afterRunning: |
            make load file=TreehousePEDv9_Ribodeplete_clinical_metadata.2019-03-25.tsv
    - expected:
        description: |
          Treehouse Public Expression Dataset v9 (March 2019).
          Treehouse RNASeq gene expression data.
          Values in this dataset are expected_count and use Ensembl gene identifiers.
          This data was generated by the ribodepletion library preparation method.
        target:
          directory: xena/files
          source:
              - https://xena.treehouse.gi.ucsc.edu/download/TreehousePEDv9_Ribodeplete_unique_ensembl_expected_count.2019-03-25.tsv
              - https://xena.treehouse.gi.ucsc.edu/download/TreehousePEDv9_Ribodeplete_unique_ensembl_expected_count.2019-03-25.tsv.json
          afterRunning: |
              make load file=TreehousePEDv9_Ribodeplete_unique_ensembl_expected_count.tsv
    - probemap:
        description: |
          Comprehensive annotation, gene only
          Gene: GENCODE 23 comprehensive (hg38) e.g. ENSG00000223972.5
        target:
          directory: xena/files
          source:
            - https://xena.treehouse.gi.ucsc.edu/download/gencode.v23.annotation.gene.probemap.tsv
            - https://xena.treehouse.gi.ucsc.edu/download/gencode.v23.annotation.gene.probemap.json
          afterRunning: |
              make load file=gencode.v23.annotation.gene.probemap.tsv
  user-specified-scenario:
    target:
        directory: xena/files
        source:
          - TSV
          - JSON
        afterRunning: |
          make load file=$TSV
